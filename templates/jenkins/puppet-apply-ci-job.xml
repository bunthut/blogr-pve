<?xml version='1.0' encoding='UTF-8'?>
<flow-definition plugin="workflow-job@2.10">
  <actions/>
  <description></description>
  <keepDependencies>false</keepDependencies>
  <properties>
    <org.jenkinsci.plugins.workflow.job.properties.PipelineTriggersJobProperty>
      <triggers>
        <jenkins.triggers.ReverseBuildTrigger>
          <spec></spec>
          <upstreamProjects>puppet-apply-job, </upstreamProjects>
          <threshold>
            <name>SUCCESS</name>
            <ordinal>0</ordinal>
            <color>BLUE</color>
            <completeBuild>true</completeBuild>
          </threshold>
        </jenkins.triggers.ReverseBuildTrigger>
      </triggers>
    </org.jenkinsci.plugins.workflow.job.properties.PipelineTriggersJobProperty>
  </properties>
  <definition class="org.jenkinsci.plugins.workflow.cps.CpsFlowDefinition" plugin="workflow-cps@2.29">
    <script>stage(&quot;Puppet Apply&quot;) {
    node(&apos;master&apos;) {
        mattermostSend &quot;${env.JOB_NAME} - ${env.BUILD_NUMBER} started.&quot;
        git &apos;git@github.com:dniel/blogr-pve.git&apos;
        
        sh &apos;git --work-tree=/opt/puppet/pve --git-dir=/opt/puppet/pve/.git pull&apos;
        sh &apos;sudo /opt/puppet/pve/apply.sh&apos;
        mattermostSend color: &quot;good&quot;, message: &quot;${env.JOB_NAME} - ${env.BUILD_NUMBER} Build server was updated.&quot;
    }
}</script>
    <sandbox>true</sandbox>
  </definition>
  <triggers/>
</flow-definition>